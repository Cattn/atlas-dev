---
import Page from '../layouts/page.astro'
import SettingsComponent from '../components/settings'
---

<Page>
  <SettingsComponent client:load />
</Page>

<!-- <script>
  import store from 'store2'

  document.addEventListener('astro:page-load', () => {
    if (!window.location.pathname.includes('/settings')) return
    var wispUrl = wispUrl
    const wispInp: HTMLInputElement = document.querySelector('#wisp')
    wispInp.value = wispUrl
    const epxInp: HTMLLIElement = document.querySelector('#epx')
    const curlInp: HTMLLIElement = document.querySelector('#curl')
    const uvInp: HTMLLIElement = document.querySelector('#uv')
    const scrInp: HTMLLIElement = document.querySelector('#scr')
    const transinp: HTMLDivElement = document.querySelector('#transinp')
    const proxinp: HTMLDivElement = document.querySelector('#proxinp')
    const transport = store.get('transport')

    if (store.get('proxy')) {
      proxinp.textContent = store.get('proxy')
    } else {
      proxinp.textContent = 'Ultraviolet'
    }

    if (transport) {
      if (transport === '/epoxy/index.mjs') {
        transinp.innerText = 'Epoxy'
      } else {
        transinp.innerText = 'Libcurl'
      }
    } else {
      transinp.innerText = 'Libcurl'
    }

    epxInp.addEventListener('click', () => {
      store.set('transport', '/epoxy/index.mjs')
      transinp.textContent = 'Epoxy'
    })
    curlInp.addEventListener('click', () => {
      store.set('transport', '/libcurl/index.mjs')
      transinp.textContent = 'Libcurl'
    })
    uvInp.addEventListener('click', () => {
      store.set('proxy', 'Ultraviolet')
      proxinp.textContent = 'Ultraviolet'
    })
    scrInp.addEventListener('click', () => {
      store.set('proxy', 'Scramjet')
      proxinp.textContent = 'Scramjet'
    })

    wispInp.onchange = () => {
      store.set('wispSrv', wispInp.value)
    }
  })
</script> -->
